@startuml

abstract Utilisateur {
    - username : String
    - password : String
    --
    + {abstract} login() : boolean
    + consulterVisites() : List<Visite>
    + consulterAntecedents() : List<Antecedent>
    + consulterTraitements() : List<Traitement>
}

class Assure {
    - nom : String 
    - prenom : String
    - dateNaissance : Date 
    - villeNaissance : String
    - noAssurance : String
    + getCoordonnees() : Coordonnees
}

class Professionnel {

}

class Precripteur {
    - nom : String 
    - prenom : String
    - permis : String
    - specialite : String
    - etablissement : String
    --
    + creerVisite (medecin: Medecin, date: Date, resume: String)
    + AjouterAntecedent (medecin: Medecin, dg: Diagnostic, trt: Traitement)
}

class Ramq {
    + reconstruireDossierDate (numAss : String, Date date)
    + reconstruireDossierID(numAss : String, Strind ID)
}


class Patient {
    - nom : String 
    - prenom : String
    - dateNaissance : Date 
    - villeNaissance : String
    - noAssurance : String
    + ajouterTraitant(medecin : Medecin)
    + getTraitants() : List<Medecin>
    + getCoordonnees() : Coordonnees
}

class Coordonnees {
    - adresse : String
    - telephone : String
    - courriel : String
    + setAdresse (adresse : String)
    + setTelephone (Telephone : String )
    + setCourriel (courriel : String)
}

enum Genre {
    MASCULIN
    FEMININ
    AUTRE
}

class Dossier {
    + getPatient () : patient : Patient
    + creerVisite (medecin: Medecin, date: Date, resume: String)
    + AjouterAntecedent (medecin: Medecin, dg: Diagnostic, trt: Traitement)
    + getVisites() : List<Visite>
    + getAntecedents() : List<Antecedent>
    + getTraitements() : List<Traitement>
}

class Visite {
    - date : Date
    - resume : String
    - notes : List<String>
    + setResume (resume: String)
    + ajouterDiagnostic(dg: Diagnostic)
    + ajouterTraitement(trt: Traitement)
    + ajouterNote(note: String)
    +getTraitement () : traitement : Traitement
}


class Antecedent {
    - debut : Date
    - fin : Date [0..1]
    + setDebut(date : Date)
    + setFin(date : Date)
    + setDiagnostic()
    + setTraitement()
}


class Diagnostic {
    - description : String
}

class Traitement {
    - description : String
}

class Medecin {
    - nom : String 
    - prenom : String
    - permis : String
    - specialite : String
    - etablissement : String
}

class SourceDonnees {
    + getUser(user: String , pass: String) : Utilisateur
    + getDossier(noAss : String) : Dossier
    + mettreAJourDossier(Dossier: dossier)
}

class SessionControleur {
    + telechargerDossier(noAss : String)
    + fermerDossier()
}

class ConnexionVue {
    - validerSaisie()
}

class PatientVue{

}

class PrescripteurVue {

}

class HistoriqueVue{

}


Utilisateur <|-- Ramq
Utilisateur <|-- Precripteur
Utilisateur <|-- Professionnel
Utilisateur <|-- Assure

Patient *--> "1\ncoordonnées" Coordonnees
Patient #--> "0..2\nparents" Patient
Patient #--> "1\ngenre" Genre

Dossier *--> "*\nvisites" Visite
Dossier *--> "*\nantécédents" Antecedent
Dossier *--> "1\npatient" Patient

Visite *--> "0..1\ndiagnostic" Diagnostic
Visite *--> "0..1\ntraitement" Traitement
Visite #--> "1\nmedecin" Medecin

Antecedent #--> "1\ntraitant" Medecin
Antecedent #--> "1\diagnostic" Diagnostic
Antecedent #--> "1\ntraitement" Traitement

SessionControleur *---> Utilisateur
SessionControleur *---> Dossier
SessionControleur -> SourceDonnees

PatientVue <--* SessionControleur
PrescripteurVue <--* SessionControleur
HistoriqueVue <--* SessionControleur
ConnexionVue  <--* SessionControleur

@enduml